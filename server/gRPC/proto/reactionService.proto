syntax = "proto3";

package reaction;

option go_package = "github.com/area/grpc-go/service";

service ReactionService {
  rpc RegisterAction(ReactionRequest) returns (ReactionResponse) {}

  rpc LaunchReaction(LaunchRequest) returns (LaunchResponse) {}
}

message Action {
  string service = 1;
  string microservice = 2;
  bytes ingredients = 3;
}

message Reaction {
  string service = 1;
  string microservice = 2;
  bytes ingredients = 3;
}

message ReactionRequest {
  int64 user_id = 1;
  Action action = 2;
  Reaction reaction = 3;
}

message ReactionResponse {
  string description = 1;
  int64 action_id = 2;
}

////

message LaunchRequest {
  int64 action_id = 1;
  bytes prev_output = 2;
}

message LaunchResponse {
}
